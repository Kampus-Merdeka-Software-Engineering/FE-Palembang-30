<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="CSS/admin.css" />
    <style>
      /* Tambahkan gaya tambahan di sini jika diperlukan */
      .action-icon {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="sidebar1"></div>
    <div class="isi">
      <div class="sidebar">
        <div class="header">
          <div class="h3">Data Utama</div>
        </div>
        <a href="data-cek-diabetes.html">Data Cek Diabetes</a>
        <a href="daftar_dokter.html">Data Dokter</a>
        <a class="active" href="data-feedback.html">Data Feedback</a>

        <section class="footerr">
          <div class="foot-content">
            <div class="logo">
              <!-- <a><img src="asset/logo.png" alt="LesSugar" /></a> -->
            </div>
            <div class="text">
              <h5>Copyright.2023 | by Group 30 Section Palembang</h5>
            </div>
          </div>
        </section>
      </div>

      <div class="content">
        <table id="data-table">
          <h1>Data Feedback</h1>
          <thead class="data-table" id="data-table">
            <tr>
              <th>id</th>
              <th>nama</th>
              <th>email</th>
              <th>subjek</th>
              <th>pesan</th>
              <th>action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <script>
      // URL JSON yang akan diambil data-nya
      const url = "https://be-palembang-30.vercel.app/feedbacks";

      // Ambil data dari URL JSON menggunakan fetch
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          // Dapatkan elemen tabel
          const table = document
            .getElementById("data-table")
            .getElementsByTagName("tbody")[0];
          let index = 1;
          // Loop melalui data JSON dan tambahkan ke tabel
          data.forEach((item) => {
            const row = table.insertRow();
            const cell1 = row.insertCell(0);
            const cell2 = row.insertCell(1);
            const cell3 = row.insertCell(2);
            const cell4 = row.insertCell(3);
            const cell5 = row.insertCell(4);
            const cell6 = row.insertCell(5);

            cell1.textContent = index;
            cell2.textContent = item.name;
            cell3.textContent = item.email;
            cell4.textContent = item.subject;
            cell5.textContent = item.feedback;
            index++;
          });
        })
        .catch((error) => {
          console.error("Terjadi kesalahan:", error);
        });
    </script>
    <script src="JS/admin.js"></script>
  </body>
</html>
